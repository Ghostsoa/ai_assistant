# 已知问题

## ⚠️ 打断功能暂时禁用

**问题描述：**
打断功能（按 'n' 键中止操作）由于 Go 语言标准库的限制，暂时禁用。

**技术原因：**
- Go 的 `bufio.Reader` 在读取标准输入时会阻塞
- 后台 goroutine 监听输入会与主程序的输入冲突
- 导致每次对话后需要按两次回车才能发送消息

**解决方案：**
有几种可能的解决方案，但都需要额外的系统依赖：

1. **使用 termbox-go 或 tcell** (推荐)
   - 提供非阻塞的键盘事件监听
   - 需要终端原始模式支持
   - 跨平台兼容性好

2. **使用系统特定API**
   - Windows: 使用 `ReadConsoleInput` API
   - Linux: 使用 `termios` 和非阻塞读取
   - 需要 CGo 或系统调用

3. **改用HTTP/WebSocket服务**
   - 通过 Web 界面交互
   - 可以轻松实现打断功能
   - 但失去了命令行的简洁性

**当前状态：**
打断功能已在代码中注释掉，不影响正常使用。AI 回复和工具执行会正常完成。

**未来计划：**
考虑在后续版本中使用 `tcell` 或 `termbox-go` 库实现真正的非阻塞键盘监听。

---

## 其他已知限制

### Windows 终端兼容性
- ✅ 已解决：使用 ASCII 符号替代 emoji
- ✅ 已解决：Spinner 动画兼容 Windows

### 思维链显示
- ✅ 完全支持 deepseek-reasoner 模型
- ✅ go-openai 库已支持 `reasoning_content` 字段

### 会话管理
- ✅ 支持多会话切换
- ✅ 会话历史独立存储
- ✅ 按时间戳自动编号

---

**反馈渠道：**
如有其他问题或建议，欢迎在 GitHub Issues 中反馈。
